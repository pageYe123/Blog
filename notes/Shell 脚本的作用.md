20220711  

你也许会说，用 Python 脚本或 PHP 来写脚本会比 Shell 更好更没有 bug，但我要申辩一下:

- 其一，如果你有一天要维护线上机器的时候，或是到了银行用户的系统（与外网完全隔离，而且服务器上没有安装 Python/PHP 或是他们的的高级库，那么，你只有 Shell 可以用了）。
- 其二，如果要跟命令行交互很多的话，Shell 是不二之选。试想一下，如果你要去 100 台远程的机器上查 access.log 日志中有没有某个错误，完成这个工作你是用 PHP/Python 写脚本快还是用 Shell 写脚本快呢？

20220709

- Shell 就是命令行工具的胶水，没有任何语言能像 Shell 一样方便地将一大堆命令行工具组合起来。原则上来说，Shell 做什么都可以，但显然它最适合的是自动化，因为只需要将你原来手动敲的命令都复制到一个文件里面就行。
- Shell 跟标准的编程语言区别很大，它基本上是一个面向字符串的编程语言，组合用好 awk/sed/grep，偶尔配合 eval，有时候会发挥奇效，但也有可能原地爆炸。
- 可以跟 Python 之类的其他语言配合起来，比如某个复杂的功能使用一个 Python 脚本来实现，然后在 shell 中调用这个脚本实现较复杂的功能；或者反过来，在 Python 脚本中调用外部的 Shell 脚本来提高自动化的效率，也是可以的。
    - Shell 有个极大的优点，那就是可以把其他人写的程序本身，像其他语言的库函数那样使用。为了做到这个，它要求每个程序都把命令行参数当作“函数输入”、向stdout/stderr 的输出当作函数输出，同时以程序返回值说明执行成功与否。这个约定是强制性的。
    - 这个“命令行参数”的约定也束缚了 Shell，使得它比起其他语言更在乎空格/回车等符号——因为它的每一行，都必须是“命令 参数1 参数2”的格式。这个约定使得它语法怪异，也很难像其他编程语言那样，支持语法结构的任意嵌套——不管有多像，它毕竟是“用命令行模拟出来的语法结构”。
    - 这就是 shell 脚本的定位：它是一种只能支持较为简单逻辑的、可以直接把任意现有程序当作函数无缝集成的“高级语言”；但因为“命令行模拟”这个本质，它的语法较为笨拙，很难像正规的脚本语言那样得到很多很多的语法糖或者其它便利。
    - 同样的，其它脚本语言语法结构是灵活了；但它们也就不可能很方便的和系统安装的现有程序交互——注意是不方便，不是不能。Python 可以通过 popen/shellexec 等函数调用外部程序。

*感悟：等到需要大量敲命令行时，慢慢会倒逼去学 shell 脚本实现自动化。*

可学习资源：

[Shell脚本编程——上](https://www.voidking.com/dev-shell-script-program-0/)

[Shell脚本编程——下](https://www.voidking.com/dev-shell-script-program-1/)

[Shell和Python互相调用](https://www.voidking.com/dev-shell-python)
